<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard Principal</title>
    
    <head th:replace="~{fragments/layout :: head('Dashboard')}"></head>

  <style>
    /* Variables del tema THE BEEF ya están en el layout */
    
    .dashboard-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        border: 1px solid var(--tb-separador, #dee2e6);
        border-radius: 10px;
        background: var(--tb-blanco, #ffffff);
        text-align: center;
        padding: 1.5rem;
        text-decoration: none;
        color: var(--tb-gris-fuerte, #343a40);
        display: block;
    }
    
    .dashboard-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 51, 102, 0.1); /* Sombra azul */
        color: var(--tb-azul-oscuro, #003366);
    }
    
    .card-icon {
        font-size: 3rem;
        margin-bottom: 0.5rem;
        color: var(--tb-azul-claro, #007bff); /* Iconos en azul */
    }
    
    .card-title {
        font-weight: 700;
        font-size: 1.25rem;
    }

    /* Título principal del dashboard */
    .main-title {
        color: var(--tb-azul-oscuro, #003366); 
        font-weight: 800; 
        margin-bottom: 3rem; 
        text-align: center;
    }

    /* Estilo específico para Seguridad */
    .security-section .card-icon {
        color: #dc3545; /* Rojo/Danger para destacar la seguridad */
    }
    .security-section .dashboard-card {
        border-color: #dc3545 !important;
    }

  </style>
</head>
<body>

  <header th:replace="~{fragments/layout :: header('home')}"></header>

  <main class="container py-5">
    <h1 class="main-title">Panel de Control Principal</h1>

    <div class="row g-4 justify-content-center mb-4">
        <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/cliente}" class="dashboard-card">
                <i class="bi bi-people-fill card-icon"></i>
                <div class="card-title">Clientes</div>
                <p class="text-muted small mb-0">Gestión de usuarios y sus créditos.</p>
            </a>
        </div>
        <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/listaproductos}" class="dashboard-card">
                <i class="bi bi-journal-check card-icon"></i>
                <div class="card-title">Lista de Productos</div>
                <p class="text-muted small mb-0">Administración del menú y precios.</p>
            </a>
        </div>
        <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/pedido/lista}" class="dashboard-card">
                <i class="bi bi-cart-fill card-icon"></i>
                <div class="card-title">Pedidos</div>
                <p class="text-muted small mb-0">Revisión y creación de órdenes.</p>
            </a>
        </div>
    </div>
    
    <div class="row g-4 justify-content-center mt-3">
        <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/menucliente}" class="dashboard-card" style="border: 2px solid var(--tb-azul-claro);">
                <i class="bi bi-tablet-landscape-fill card-icon"></i>
                <div class="card-title">Menú Cliente</div>
                <p class="text-muted small mb-0">Vista para que el cliente vea productos.</p>
            </a>
        </div>
        <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/empleados/lista}" class="dashboard-card">
                <i class="bi bi-person-badge-fill card-icon" style="color: #6c757d;"></i>
                <div class="card-title">Empleados</div>
                <p class="text-muted small mb-0">Gestión de personal y roles.</p>
            </a>
        </div>
        <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/reservaciones/index}" class="dashboard-card">
                <i class="bi bi-calendar-check-fill card-icon" style="color: #20c997;"></i>
                <div class="card-title">Reservaciones</div>
                <p class="text-muted small mb-0">Gestión y asignación de mesas.</p>
            </a>
        </div>
    </div>

    <div class="row g-4 justify-content-center mt-3">
         <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/mesas/lista}" class="dashboard-card"> 
                <i class="bi bi-table card-icon" style="color: #9c5c2d;"></i> 
                <div class="card-title">Mesas</div>
                <p class="text-muted small mb-0">Administración de ubicación y capacidad.</p>
            </a>
        </div>
    </div>
    
    
    <h2 class="main-title mt-5 pt-3" style="font-size: 1.5rem; border-top: 1px solid var(--tb-separador);">
        Administración de Seguridad
    </h2>

    <div class="row g-4 justify-content-center security-section">
        <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/usuarios/lista}" class="dashboard-card">
                <i class="bi bi-person-check-fill card-icon"></i>
                <div class="card-title">Gestión de Usuarios</div>
                <p class="text-muted small mb-0">Cuentas, acceso y datos de usuario.</p>
            </a>
        </div>
        <div class="col-12 col-md-4 col-lg-3">
            <a th:href="@{/perfiles/lista}" class="dashboard-card">
                <i class="bi bi-shield-lock-fill card-icon"></i>
                <div class="card-title">Roles y Perfiles</div>
                <p class="text-muted small mb-0">Definición y asignación de permisos (Roles).</p>
            </a>
        </div>
    </div>
    </main>

  <footer th:replace="~{fragments/layout :: footer}"></footer>
    
<script th:if="${usuarioLogueado}">
    window.onload = function() {
        // Variables que pasan del controlador:
        var username = '[[${usuarioLogueado}]]'; 
        var perfil = '[[${rolesLogueado}]]';
        
        // Muestra el mensaje de bienvenida
        alert("Bienvenido " + username + ", su perfil es: " + perfil);
    };
</script>
</body>
</html>